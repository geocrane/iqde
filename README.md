# iqde

Коллеги, наша цель - создать инструмент, удобный для использования в выгрузках.

**Основная концепция: один инструмент для всего.**

Но мы понимаем, что разработать подобное решение в рамках ограниченных спринтов - не реально. Это требует ежедневной монотонной работы в течение продолжительного времени, без оглядки на срочность и оценки. В данном случае, мы работаем для себя, для помощи нашим новичкам - и готовы дорабатывать инструмент в свободное от основных задач время.

На текущий момент мы имеем базовую альфа-версия продукта, который описывает реплики и умеет строить джойны. Не все работает так, как хочется, встречаются баги и ошибки, которые исправляем. Если вы столкнулись с ошибками (а вы столкнетесь), просим отнестись к ним снисходительно и сообщить о них на почту {MAIL}.

Или подождать, когда мы сами их обнаружим и пофиксим ))

**Бэклог задач:**

11.11.2024

1. Необходим рефакторинг стукруты кода. Работа через виджеты сильно мешает нормальной организации кода, все взаимосвязано и пересекается между собой и модулями. Функционал скачет из виджета в виджет. В итоге получаем необслуживаемый спагетти-код. Чтобы дальнейшая работа была продуктивнее, нужна перестройка структуры, отделение мух от котлет, уменьшение зависимости между модулями.

2. Разделение базы с репликами от базы с архивами. На данный момент архивы и описания реплик хранятся в одном файле sqlite. Это чревато тем, что при обновлении базы из репозитория - архивы пользователя затрутся. Нужно разделить основную базу и пользовательскую, сделать архивы пользователя независимыми. На текущий момент имеем реализацию встроенной ORM, которая через настройки подключается к единой базе. Нужен надежный способ создавать разные коннекты для запросов к разным таблицам. Вероятно, приоритетный коннект должен быть атрибутом объекта каждой из таблиц, чтобы ORM автоматически видела к какому файлу базы таблица принадлежит.

3. Проиходят ошибки при нарушении уникальности. База блокируется, если сохранить имя архива или подписки такое же, как было. Нужен надежный способ работы с уникальными полями. Временно функционал изменения и переименования (script_name, subscribe_name) заглушен.

4. Требуется адекватный дизайн.

5. Сейчас джойны строятся для таблиц с выбранными атрибутами. Нужно, чтобы можно было смотреть цепочку промежуточных связей между таблицами, независимо от выбора атрибутов. В идеале строить er-диграммы с помощью plot.

6. Кнопка "Загрузки файла скрипта" не работает на кластерах. Там версия ipywidgets устаревшая, вероятно. Плюс работать приходится через Анаконду. Было бы лучше перенести пакет ipywidgets в сам проект, чтобы быть независимым от OSC и работать в на любых ядрах.

7. Строки в выборе атрибутов скачут. Не удается расставить их по колонкам внутри строк. Алгоритм рассчета максимальной длины каждого атрибута и заполнение пробелами (табами) не работает внутри виджета, все равно все скачет. Требуется способ сделать ровные колонки.
